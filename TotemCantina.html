<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cantina Inteligente</title>
  <style>
    :root {
      --primary: #007ACC;
      --light-blue: #e6f3fc;
      --background: #f0f8ff;
      --text: #333;
      --white: #ffffff;
      --accent: #FF7F50;
    }

    body {
      background-color: #cde6f7;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      font-size: 18px;
      color: var(--text);
    }

    .totem {
      background-color: #000;
      border-radius: 30px;
      width: 900px;
      height: 600px;
      padding: 16px;
      box-shadow: 0 0 40px rgba(0,0,0,0.6);
      display: flex;
      flex-direction: column;
    }

    .screen {
      background-color: var(--background);
      border-radius: 20px;
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    header {
      background-color: var(--primary);
      color: white;
      padding: 5px 10px;
      text-align: center;
      border-top-left-radius: 20px;
      border-top-right-radius: 20px;
    }

    header h2 {
      margin: 6px 0 0;
      font-size: 1.4em;
    }

    header p {
      margin: 2px 0 6px;
      font-size: 0.95em;
    }

    nav {
      display: flex;
      justify-content: center;
      background-color: var(--light-blue);
      gap: 12px;
      padding: 10px;
    }

    nav button {
      background-color: var(--primary);
      color: white;
      border: none;
      padding: 10px 18px;
      font-size: 1.1em;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    nav button:hover {
      background-color: #005fa3;
    }

    .content {
      display: flex;
      flex: 1;
      overflow: hidden;
    }

    .section {
      flex: 1;
      padding: 16px;
      overflow-y: auto;
    }

    .hidden {
      display: none;
    }

    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      font-size: 1.05em;
      margin-top: 10px;
      background: var(--white);
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
    }

    th, td {
      padding: 12px;
      text-align: center;
    }

    th {
      background-color: #d3ecff;
      color: #003f66;
      font-weight: 600;
    }

    tr:nth-child(even) {
      background-color: #f5faff;
    }

    ul {
      list-style: none;
      padding: 0;
      font-size: 1.1em;
    }

    li {
      padding: 10px;
      border-bottom: 1px solid #ddd;
    }

    .chart-box {
      background-color: white;
      padding: 16px;
      border-radius: 8px;
      font-size: 1.05em;
      line-height: 1.6;
      box-shadow: 0 0 4px rgba(0,0,0,0.1);
      margin-top: 10px;
    }

    .chart-item {
      margin-bottom: 14px;
    }

    .chart-item strong {
      color: #003f66;
    }

    .highlight {
      background-color: var(--accent);
      padding: 10px;
      border-radius: 6px;
      color: white;
      font-weight: bold;
      text-align: center;
      margin-top: 14px;
    }

    .img-consciencia {
      display: block;
      max-width: 200px;
      margin: 0 auto 10px auto;
    }

    .form-box {
      margin-top: 14px;
    }

    textarea {
      width: 100%;
      height: 70px;
      resize: none;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 1.05em;
    }

    button.submit {
      margin-top: 10px;
      width: 100%;
      background-color: #007ACC;
      color: white;
      padding: 10px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1.05em;
      transition: background 0.3s ease;
    }

    button.submit:hover {
      background-color: #005fa3;
    }

    #msg {
      font-size: 0.95em;
      margin-top: 5px;
    }

    footer {
      text-align: center;
      font-size: 0.9em;
      padding: 8px;
      color: #777;
      background-color: #f5f5f5;
      border-top: 1px solid #ccc;
    }
  </style>
</head>
<body>

  <div class="totem">
    <div class="screen">
      <header>
        <h2>Cantina Inteligente</h2>
        <p>Toque para navegar</p>
      </header>

      <nav>
        <button onclick="show('cardapio')">Cardápio</button>
        <button onclick="show('sugestoes')">Sugestões</button>
        <button onclick="show('graficos')">Nossa Cozinha</button>
      </nav>

      <div class="content">
        <!-- CARDÁPIO -->
        <div id="cardapio" class="section">
          <h3>Cardápio da Semana</h3>
          <table>
            <thead>
              <tr>
                <th>Dia</th>
                <th>Manhã</th>
                <th>Almoço</th>
                <th>Tarde</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Seg</td>
                <td>Frutas e suco</td>
                <td>Arroz, feijão, frango, salada</td>
                <td>Bolo de cenoura, leite</td>
              </tr>
              <tr>
                <td>Ter</td>
                <td>Iogurte e granola</td>
                <td>Macarrão, carne moída, legumes</td>
                <td>Sanduíche e suco</td>
              </tr>
              <tr>
                <td>Qua</td>
                <td>Banana e aveia</td>
                <td>Carne assada, arroz, feijão</td>
                <td>Bolacha e leite</td>
              </tr>
              <tr>
                <td>Qui</td>
                <td>Maçã e suco</td>
                <td>Escondidinho de frango</td>
                <td>Frutas picadas</td>
              </tr>
              <tr>
                <td>Sex</td>
                <td>Pão e leite</td>
                <td>Feijoada leve, couve</td>
                <td>Bolo de milho e suco</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- SUGESTÕES -->
        <div id="sugestoes" class="section hidden">
          <h3>Sugestões de Cardápio</h3>
          <ul>
            <li>Semana Brasileira</li>
            <li>Segunda Sem Carne</li>
            <li>Festival de Frutas Tropicais</li>
            <li>Cardápio Vegetariano</li>
            <li>Dia da Alimentação Saudável</li>
          </ul>

          <div class="form-box">
            <label for="sugestao">Deixe sua sugestão:</label><br>
            <textarea id="sugestao" placeholder="Digite aqui sua sugestão..."></textarea>
            <button class="submit" onclick="enviarSugestao()">Enviar Sugestão</button>
            <p id="msg"></p>
          </div>
        </div>

        <!-- NOSSA COZINHA -->
        <div id="graficos" class="section hidden">
  <h3>Nossa Cozinha</h3>

  <!-- GRÁFICOS LADO A LADO E REDUZIDOS -->
  <div style="display: flex; gap: 20px; justify-content: center; align-items: flex-start;">
    <div class="chart-box" style="width: 40%; height: 250px;">
      <canvas id="graficoItensConsumidos"></canvas>
    </div>
    <div class="chart-box" style="width: 40%; height: 250px;">
      <canvas id="graficoDesperdicio"></canvas>
    </div>
  </div>

  <!-- TEXTO DE CONSCIENTIZAÇÃO -->
  <div class="chart-box highlight" style="margin-top: 20px;">
    <div class="chart-item">
      <strong>Desperdício estimado:</strong> Cerca de <strong>12,5 kg</strong> de alimentos foram descartados nesta semana.
    </div>
    <div class="chart-item">
      <strong>Meta de redução:</strong> Diminuir em <strong>10%</strong> nos próximos 2 meses.
      <br />
      <strong>Ações previstas:</strong> conscientização entre os alunos, porções mais adequadas e melhor planejamento dos cardápios.
    </div>
  </div>
</div>
      </div>

      <footer>
        &copy; 2025 Cantina Escolar
      </footer>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    function show(sectionId) {
      const sections = document.querySelectorAll('.section');
      sections.forEach(sec => sec.classList.add('hidden'));
      document.getElementById(sectionId).classList.remove('hidden');
      document.getElementById('msg').innerText = '';
      document.getElementById('msg').style.color = 'green';
    }

    function enviarSugestao() {
      const sugestao = document.getElementById("sugestao").value.trim();
      const msg = document.getElementById("msg");
      if (sugestao.length > 0) {
        msg.style.color = "green";
        msg.innerText = "✔ Sugestão enviada com sucesso!";
        document.getElementById("sugestao").value = "";
      } else {
        msg.style.color = "red";
        msg.innerText = "Por favor, escreva algo antes de enviar.";
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      show("cardapio");

      // Configuração dos gráficos com Chart.js

      // Gráfico de barras: itens mais consumidos
      const ctx1 = document.getElementById('graficoItensConsumidos').getContext('2d');
      new Chart(ctx1, {
        type: 'bar',
        data: {
          labels: ['Arroz branco', 'Frango grelhado', 'Suco natural de laranja'],
          datasets: [{
            label: 'Quantidade Servida (porções)',
            data: [300, 250, 200],  // exemplo de valores
            backgroundColor: [
              'rgba(0, 122, 204, 0.7)',
              'rgba(0, 122, 204, 0.7)',
              'rgba(0, 122, 204, 0.7)'
            ],
            borderColor: [
              'rgba(0, 122, 204, 1)',
              'rgba(0, 122, 204, 1)',
              'rgba(0, 122, 204, 1)'
            ],
            borderWidth: 1
          }]
        },
        options: {
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: 'Número de porções'
              }
            }
          }
        }
      });

      // Gráfico de pizza: desperdício vs consumo
      const ctx2 = document.getElementById('graficoDesperdicio').getContext('2d');
      new Chart(ctx2, {
        type: 'pie',
        data: {
          labels: ['Consumido', 'Desperdiçado'],
          datasets: [{
            data: [480 - 50, 50],  // se quiser exemplo: de 480 refeições, 50 foram desperdiçadas
            backgroundColor: [
              'rgba(0, 122, 204, 0.7)',
              'rgba(255, 127, 80, 0.7)'
            ],
            borderColor: [
              'rgba(0, 122, 204, 1)',
              'rgba(255, 127, 80, 1)'
            ],
            borderWidth: 1
          }]
        },
        options: {
          plugins: {
            legend: {
              position: 'bottom',
            }
          }
        }
      });

    });
  </script>

</body>
</html>
